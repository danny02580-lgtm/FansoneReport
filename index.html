
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Fansone Report</title>

<script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>

<style>
  body {
    margin: 0;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI",
                 "PingFang TC", "Noto Sans TC", sans-serif;
    background: radial-gradient(1200px at 80% 20%, #3a2d2d 0%, #0f172a 45%, #020617 100%);
    color: #e5e7eb;
  }

  .container {
    max-width: 1200px;
    margin: 40px auto;
    padding: 0 16px;
  }

  h1 {
    font-size: 28px;
    margin-bottom: 20px;
    letter-spacing: .3px;
  }

  #chart {
    width: 100%;
    height: 520px;
    border-radius: 18px;
    overflow: hidden;
    box-shadow: 0 20px 60px rgba(0,0,0,.45);
  }
</style>
</head>

<body>
<div class="container">
  <h1>Fansone Report</h1>
  <div id="chart"></div>
</div>

<script>
const months = ["6","7","8","9","10","11"];

const data = [
  {
    name: "1M",
    x: months,
    y: [89.8, 89.3, 90.0, 77.9, 93.9, 84.8],
    type: "bar",
    marker: { color: "#5fb96e" },
    hoverinfo: "skip"
  },
  {
    name: "3M",
    x: months,
    y: [0, 5.8, 1.7, 6.2, 6.1, 15.2],
    type: "bar",
    marker: { color: "#7aa7f0" },
    hoverinfo: "skip"
  },
  {
    name: "6M",
    x: months,
    y: [10.2, 4.9, 8.3, 15.9, 0, 0],
    type: "bar",
    marker: { color: "#e07a37" },
    hoverinfo: "skip"
  }
];

const layout = {
  barmode: "stack",
  paper_bgcolor: "rgba(0,0,0,0)",
  plot_bgcolor: "rgba(0,0,0,0)",
  margin: { t: 40, l: 60, r: 40, b: 50 },
  xaxis: {
    title: "Month",
    tickfont: { color: "#cbd5f5", size: 14 },
    gridcolor: "rgba(255,255,255,.08)"
  },
  yaxis: {
    title: "Plan ratio (%)",
    range: [0, 100],
    tickfont: { color: "#cbd5f5", size: 14 },
    gridcolor: "rgba(255,255,255,.08)"
  },
  legend: {
    orientation: "h",
    x: 0,
    y: 1.12,
    font: { size: 14 }
  }
};

Plotly.newPlot("chart", data, layout, {
  displayModeBar: false,
  responsive: true
});

const chart = document.getElementById("chart");

const tooltip = document.createElement("div");
tooltip.style.position = "fixed";
tooltip.style.pointerEvents = "none";
tooltip.style.padding = "16px 18px";
tooltip.style.borderRadius = "20px";
tooltip.style.background = "rgba(15,23,42,.85)";
tooltip.style.backdropFilter = "blur(12px)";
tooltip.style.boxShadow = "0 20px 50px rgba(0,0,0,.5)";
tooltip.style.color = "#f8fafc";
tooltip.style.fontSize = "22px";
tooltip.style.fontWeight = "700";
tooltip.style.opacity = "0";
tooltip.style.transition = "opacity .12s ease";
document.body.appendChild(tooltip);

chart.on("mousemove", e => {
  if (!e.points || !e.points.length) return;

  const p = e.points[0];

  tooltip.innerHTML = `
    <div style="font-size:18px;opacity:.8;margin-bottom:6px">${p.x}</div>
    <div style="display:flex;align-items:center;gap:10px">
      <span style="width:14px;height:14px;border-radius:50%;background:${p.fullData.marker.color}"></span>
      <span>${p.fullData.name}</span>
      <span style="font-size:32px;margin-left:8px">${p.y.toFixed(1)}%</span>
    </div>
  `;

  tooltip.style.left = (e.event.clientX + 18) + "px";
  tooltip.style.top = (e.event.clientY + 18) + "px";
  tooltip.style.opacity = "1";
});

chart.on("mouseleave", () => {
  tooltip.style.opacity = "0";
});
</script>
</body>
</html>
